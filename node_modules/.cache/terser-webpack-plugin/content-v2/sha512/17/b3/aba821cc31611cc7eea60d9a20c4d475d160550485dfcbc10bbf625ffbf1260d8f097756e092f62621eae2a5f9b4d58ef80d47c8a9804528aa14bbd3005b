{"map":{"version":3,"sources":["/assets/js/pages/Pvp.js"],"names":["modules","installedModules","__webpack_require__","moduleId","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","5","BaZM","$","on","spinArray","event","parseFloat","val","all","attr","thisMethod","this","thisValue","parseInt","toFixed","getCookie","window","socket","data","html","id","avatar","username","price","append","audio","game","remove","user1","from","to","user2","winner","loser","prepend","setTimeout","interval","countdownElement","second","document","getElementById","setInterval","firstChild","hide","show","addClass","Math","floor","random","length","clearInterval","ticket","createRoom","isNaN","wnoty","position","type","message","ajax","url","success","msg","error","console","log","responseText","joinRoom","dataType"],"mappings":"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"},"code":"!function(i){var a={};function s(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.m=i,s.c=a,s.d=function(i,a,e){s.o(i,a)||Object.defineProperty(i,a,{enumerable:!0,get:e})},s.r=function(i){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(i,\"__esModule\",{value:!0})},s.t=function(i,a){if(1&a&&(i=s(i)),8&a)return i;if(4&a&&\"object\"==typeof i&&i&&i.__esModule)return i;var e=Object.create(null);if(s.r(e),Object.defineProperty(e,\"default\",{enumerable:!0,value:i}),2&a&&\"string\"!=typeof i)for(var t in i)s.d(e,t,function(a){return i[a]}.bind(null,t));return e},s.n=function(i){var a=i&&i.__esModule?function(){return i.default}:function(){return i};return s.d(a,\"a\",a),a},s.o=function(i,a){return Object.prototype.hasOwnProperty.call(i,a)},s.p=\"/\",s(s.s=5)}({5:function(i,a,s){i.exports=s(\"BaZM\")},BaZM:function(i,a){$.on(\"/pvp\",(function(){var i=[\"animation2160\"];$(\".methods-value ul li a\").on(\"click\",(function(i){var a=parseFloat($(\"#amount\").val())||0,s=$(\".leftside .profile-block .balance .money\").attr(\"data-balance\"),e=$(this).attr(\"data-method\"),t=parseFloat($(this).attr(\"data-value\"));switch(e){case\"plus\":a+=t;break;case\"divide\":a=parseInt((a/t).toFixed(0));break;case\"clear\":a=\"\";break;case\"last\":a=$.getCookie(\"last\");break;case\"all\":a=s;break;case\"multiply\":a*=t}return $(\"#amount\").val(a),!1})),window.socket.on(\"new.flip\",(function(i){var a=\"\";a+='<div class=\"game-coin flip_'+i.id+'\">',a+='<div class=\"top\">',a+='<div class=\"left\">',a+='<div class=\"players block\">',a+='<div class=\"user\">',a+='<div class=\"ava user-link\">',a+='<img src=\"'+i.avatar+'\">',a+=\"</div>\",a+='<div class=\"info\">',a+='<span class=\"user-link\">'+i.username+\"</span>\",a+=\"</div>\",a+=\"</div>\",a+='<div class=\"vs\">vs</div>',a+='<div class=\"user\">',a+='<div class=\"ava user-link\">',a+='<img src=\"/assets/images/telegram.png\">',a+=\"</div>\",a+='<div class=\"info\">',a+='<span class=\"user-link\">Ожидаем...</span>',a+=\"</div>\",a+=\"</div>\",a+=\"</div>\",a+='<div class=\"go\">',a+='<a href=\"#\" class=\"joinGame\" onclick=\"$.joinRoom('+i.id+')\">присоединиться</a>',a+=\"</div>\",a+='<div class=\"info block\">',a+='<span><i class=\"fas fa-coins\"></i> '+i.price+\"</span>\",a+=\"</div>\",a+='<div class=\"status block\">',a+='<div class=\"game-status tooltip\" title=\"Ожидаем...\"></div>',a+=\"</div>\",a+=\"</div>\",a+=\"</div>\",a+=\"</div>\",$(\".games-active\").append(a),$.audio(\"/assets/sounds/bet-4.mp3\",.4)})),window.socket.on(\"end.flip\",(function(a){$(\".flip_\"+a.game.id).remove();var s=\"\";s+='<div class=\"game-coin flip-block_'+a.game.id+'\">',s+='<div class=\"top\">',s+='<div class=\"left\">',s+='<div class=\"players block\">',s+='<div class=\"user\">',s+='<div class=\"ava user-link\">',s+='<img src=\"'+a.user1.avatar+'\">',s+=\"</div>\",s+='<div class=\"info\">',s+='<span class=\"user-link\">'+a.user1.username+\"</span>\",s+=\"<p>\"+a.user1.from+\" - \"+a.user1.to+' <i class=\"fas fa-ticket-alt\"></i></p>',s+=\"</div>\",s+=\"</div>\",s+='<div class=\"vs\">vs</div>',s+='<div class=\"user\">',s+='<div class=\"ava user-link\">',s+='<img src=\"'+a.user2.avatar+'\">',s+=\"</div>\",s+='<div class=\"info\">',s+='<span class=\"user-link\">'+a.user2.username+\"</span>\",s+=\"<p>\"+a.user2.from+\" - \"+a.user2.to+' <i class=\"fas fa-ticket-alt\"></i></p>',s+=\"</div>\",s+=\"</div>\",s+=\"</div>\",s+='<div class=\"avatars\">',s+='<div class=\"tridiv\">',s+='<div class=\"time\" id=\"timer_'+a.game.id+'\">',s+='<span id=\"count_num_'+a.game.id+'\">5s</span>',s+=\"</div>\",s+='<div id=\"coin-flip-cont_'+a.game.id+'\" style=\"display: none;\">',s+='<div id=\"coin_'+a.game.id+'\" class=\"animation2160\">',s+='<div class=\"front\"><img src=\"'+a.winner.avatar+'\"></div>',s+='<div class=\"back\"><img src=\"'+a.loser.avatar+'\"></div>',s+=\"</div>\",s+=\"</div>\",s+=\"</div>\",s+=\"</div>\",s+='<div class=\"win-ticket tooltip\" title=\"Счастливый билет\" style=\"display:none;\">',s+='<span>??? <i class=\"fas fa-ticket-alt\"></i></span>',s+=\"</div>\",s+='<div class=\"info block\">',s+='<span><i class=\"fas fa-coins\"></i> '+a.game.price+\"</span>\",s+=\"</div>\",s+='<div class=\"status block\">',s+='<div class=\"game-status done tooltip\" title=\"Игра проводится...\"></div>',s+=\"</div>\",s+=\"</div>\",s+=\"</div>\",s+=\"</div>\",$(\".games-ended\").prepend(s),$.audio(\"/assets/sounds/end-flip.mp3\",.4),setTimeout((function(){var s,e,t,n;s=a.game.id,t=document.getElementById(\"count_num_\"+s),n=0,e=setInterval((function(){t.firstChild.data=5-n+\"s\",n>=5&&($(\"#timer_\"+s).hide(),$(\"#coin-flip-cont_\"+s).show(),$(\"#coin_\"+s).addClass(i[Math.floor(Math.random()*i.length)]),clearInterval(e),setInterval((function(){$(\".flip-block_\"+s+\" .front\").addClass(\"winner_a\")}),4e3)),n++}),1e3)}),2e3),setTimeout((function(){$(\".flip-block_\"+a.game.id+\" .win-ticket\").show(),$(\".flip-block_\"+a.game.id+\" .win-ticket span\").html(a.winner.ticket+' <i class=\"fas fa-ticket-alt\"></i>'),$(\".flip-block_\"+a.game.id+\" .status\").html('<div class=\"game-status done tooltip\" title=\"Игра завершена...\"></div>'),$(\".flip-block_\"+a.game.id+\" .center .front\").addClass(\"winner_a\"),$(\".flip-block_\"+a.game.id+\" .check-random .btn\").show()}),13e3),$(\".games-ended .game-coin:nth-child(6)\").remove()})),$.createRoom=function(){var i=parseFloat($(\"#amount\").val());isNaN(i)?$.wnoty({position:\"top-right\",type:\"error\",message:\"Вы забыли указать сумму!\"}):$.ajax({url:\"/flip/newGame\",type:\"post\",data:{value:i},success:function(i){$(\"#amount\").val(\"\"),$.wnoty({position:\"top-right\",type:i.type,message:i.msg})},error:function(i){console.log(i.responseText),$.wnoty({position:\"top-right\",type:\"error\",message:\"Ошибка!\"})}})},$.joinRoom=function(i){$.ajax({url:\"/flip/joinRoom\",data:{id:i},type:\"POST\",dataType:\"JSON\",success:function(i){$.wnoty({position:\"top-right\",type:i.type,message:i.msg})}})}}),[])}});","extractedComments":[]}