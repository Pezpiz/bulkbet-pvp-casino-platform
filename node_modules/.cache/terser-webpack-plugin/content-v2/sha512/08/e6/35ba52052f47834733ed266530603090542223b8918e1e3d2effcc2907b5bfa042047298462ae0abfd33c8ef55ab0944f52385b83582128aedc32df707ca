{"map":{"version":3,"sources":["/assets/js/pages/Jackpot.js"],"names":["modules","installedModules","__webpack_require__","moduleId","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","3","rE1m","$","on","event","parseFloat","val","all","attr","thisMethod","this","thisValue","parseInt","toFixed","getCookie","room","window","hasClass","text","find","removeClass","addClass","post","sum","localStorage","setItem","socket","data","bet","bets","forEach","info","avatar","username","from","to","chance","chances","length","html","game","price","audio","tooltipster","side","theme","sec","min","time","timer","css","strokeDashoffset","ngtime","width","slideDown","members","transform","ml","transition","rouletteInterval","setInterval","_getTransformOffset","setTimeout","winner","ticket","hash","removeAttr","slideUp","id"],"mappings":"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"},"code":"!function(e){var t={};function o(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var a in e)o.d(r,a,function(t){return e[t]}.bind(null,a));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,\"a\",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p=\"/\",o(o.s=3)}({3:function(e,t,o){e.exports=o(\"rE1m\")},rE1m:function(e,t){$.on(\"/\",(function(){$(\".methods-value ul li a\").on(\"click\",(function(e){var t=parseFloat($(\"#amount\").val())||0,o=$(\".leftside .profile-block .balance .money\").attr(\"data-balance\"),r=$(this).attr(\"data-method\"),a=parseFloat($(this).attr(\"data-value\"));switch(r){case\"plus\":t+=a;break;case\"divide\":t=parseInt((t/a).toFixed(0));break;case\"clear\":t=\"\";break;case\"last\":t=$.getCookie(\"last\");break;case\"all\":t=o;break;case\"multiply\":t*=a}return $(\"#amount\").val(t),!1})),$.room=function(){return window.room},$(\".title.\"+$.room()).hasClass(\"small\")&&$(\"#titleRoom\").text(\"(Бомж)\"),$(\".title.\"+$.room()).hasClass(\"classic\")&&$(\"#titleRoom\").text(\"(Классик)\"),$(\".title.\"+$.room()).hasClass(\"major\")&&$(\"#titleRoom\").text(\"(Мажор)\"),$(\".rooms\").find(\"li\").removeClass(\"active\"),$(\".rooms li.\"+$.room()).addClass(\"active\"),$(\".makeBet\").on(\"click\",(function(){$.post(\"/newBet\",{sum:$(\"#amount\").val(),room:$.room()}),localStorage.setItem(\"last\",$(\"#amount\").val())})),window.socket.on(\"jackpot.newBet\",(function(e){var t=\"\";e.bets.forEach((function(e){t+='<div class=\"bet flex flex-between\">',t+='<div class=\"left\">',t+='<div class=\"ava\">',t+='<div class=\"image\" style=\"background: url('+e.avatar+') no-repeat center center / 100%;\"></div>',t+=\"</div>\",t+='<div class=\"username\">'+e.username+\"</div>\",t+='<div class=\"tickets\"><span>билеты</span> <b>'+e.from+\" - \"+e.to+\"</b></div>\",t+='<div class=\"amount points\">'+e.sum+' <i class=\"fas fa-coins\"></i></div>',t+=\"</div>\",t+='<div class=\"right\">',t+='<div class=\"date percent\">'+e.chance+\"%</div>\",t+=\"</div>\",t+=\"</div>\"}));for(var o=\"\",r=0;r<e.chances.length;r++)o+='<div class=\"user tooltip\" title=\"'+e.chances[r].username+'\">',o+='<div class=\"chance\">'+e.chances[r].chance+\"%</div>\",o+='<div class=\"image\" style=\"background: url('+e.chances[r].avatar+') no-repeat center center / 100%;\"></div>',o+=\"</div>\";$(\"#roombank_\"+e.room).html(e.game.price+' <i class=\"fas fa-coins\"></i>'),$(\"#gamebank_\"+e.room).text(e.game.price),$(\"#players_\"+e.room).text(e.chances.length),$(\"#bets_\"+e.room).html(t),$(\"#chances_\"+e.room).html(o),$.audio(\"/assets/sounds/bet-4.mp3\",.4),$(\".tooltip\").tooltipster({side:\"bottom\",theme:\"tooltipster-borderless\"})})),window.socket.on(\"jackpot.timer\",(function(e){var t=e.sec,o=e.min,r=e.time,a=e.timer;t<10&&(t=\"0\"+t),o<10&&(o=\"0\"+o),$(\"#timer-svg_\"+e.room).css({strokeDashoffset:282.783-282.783/a*r+10+\"px\"}),$(\"#timerShadow_\"+e.room).css({strokeDashoffset:282.783-282.783/a*r+10+\"px\"}),$(\"#time_\"+e.room).html('<i class=\"far fa-clock\"></i> '+o+\":\"+t)})),window.socket.on(\"jackpot.ngTimer\",(function(e){$(\"#timer-svg_\"+e.room).css({strokeDashoffset:282.783-282.783/19*e.ngtime+\"px\"}),$(\"#timerShadow_\"+e.room).css({strokeDashoffset:282.783-282.783/19*e.ngtime+\"px\"}),e.ngtime<10&&(e.ngtime=\"0\"+e.ngtime),$(\"#time_\"+e.room).html('<i class=\"far fa-clock\"></i> 00:'+e.ngtime),$(\"#timeline_\"+e.room).css({width:e.ngtime/19*100+\"%\"})})),window.socket.on(\"jackpot.slider\",(function(e){$(\"#chouser_\"+e.room).slideDown();for(var t=\"\",o=0;o<e.members.length;o++)t+='<div class=\"user\"><div class=\"image\" style=\"background: url('+e.members[o].avatar+') no-repeat center center / 100%;\"></div></div>';$(\"#carousel_\"+e.room).html(t),$(\"#carousel_\"+e.room).css({transform:\"translate3d(-\"+e.ml+\"px, 0px, 0px)\",transition:\"transform 15500ms cubic-bezier(0, 0, 0, 1) -4ms\"});var r=4,a=0;rouletteInterval=setInterval((function(){a=_getTransformOffset($(\"#carousel_\"+e.room)),r-a>=60&&(r=a,$.audio(\"/assets/sounds/click.mp3\",.1))}),80),setTimeout((function(){$(\"#winnerAvatar_\"+e.room).attr(\"src\",e.winner.avatar),$(\"#winnerName_\"+e.room).text(e.winner.username),$(\"#winnerSum_\"+e.room).text(e.winner.sum),$(\"#winnerChance_\"+e.room).text(e.winner.chance+\"%\"),$(\"#winnerTicket_\"+e.room).text(e.winner.ticket),$(\"#winnerBox_\"+e.room).slideDown(),$(\"#carousel_\"+e.room+\" .user:nth-child(81)\").addClass(\"winner\"),$(\"#check_\"+e.room).attr(\"href\",\"/fair/\"+e.hash)}),16e3)})),window.socket.on(\"jackpot.newGame\",(function(e){$(\"#timer-svg_\"+e.room).css({strokeDashoffset:\"0.783px\"}),$(\"#timerShadow_\"+e.room).css({strokeDashoffset:\"0.783px\"}),$(\"#carousel_\"+e.room).removeAttr(\"style\"),$(\"#carousel_\"+e.room).html(\"\"),$(\"#chouser_\"+e.room).slideUp(),$(\"#winnerBox_\"+e.room).slideUp(),$(\"#time_\"+e.room).text(e.time[0]+\":\"+e.time[1]),$(\"#roombank_\"+e.room).html('0 <i class=\"fas fa-coins\"></i>'),$(\"#gamebank_\"+e.room).text(\"0\"),$(\"#bets_\"+e.room).html(\"\"),$(\"#chances_\"+e.room).html(\"\"),$(\"#roundId_\"+e.room).html(\"#\"+e.game.id),$(\"#timeline_\"+e.room).css({width:\"100%\"}),$(\"#hash_\"+e.room).text(e.game.hash)}))}),[])}});","extractedComments":[]}